"use strict";function registration(e){event.preventDefault();var t=$(e),a=new FormData(t.closest("form").get(0));t.closest("form").find("input[required]").serializeArray(),t.closest("form").serializeArray();$.ajax({type:"POST",url:BaseURL+LngAbr+"/account/register_user",data:a,processData:!1,contentType:!1,success:function(e){var t=JSON.parse(e);"1"==t.error?(Swal.fire({icon:"error",title:t.text}),grecaptcha.reset()):"0"==t.error?Swal.fire({icon:"success",title:t.text}).then(function(){window.location=BaseURL}):(Swal.fire({icon:"error",title:"Undefined Error"}),grecaptcha.reset())}})}function authorization(e){event.preventDefault();var t=$(e),a=(t.closest("form").serializeArray(),new FormData(t.closest("form").get(0)));$.ajax({type:"POST",url:BaseURL+LngAbr+"/account/authorization",data:a,processData:!1,contentType:!1,success:function(e){var t=JSON.parse(e);"1"==t.error?(Swal.fire({icon:"error",title:t.text}),grecaptcha.reset()):"0"==t.error?window.location.href=t.redirect:(Swal.fire({icon:"error",title:"Undefined Error"}),grecaptcha.reset())}})}function activate_category(e){event.preventDefault();var t=$(e),a=t.data("id");Swal.fire({title:t.data("are_sure"),icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:t.data("yes"),cancelButtonText:t.data("no")}).then(e=>{e.value&&$.ajax({type:"POST",url:BaseURL+LngAbr+"/account/buy_category",data:{cat_id:a},success:function(e){var t=JSON.parse(e);"1"==t.error?Swal.fire({icon:"error",title:t.text}):"0"==t.error?window.location.href=t.redirect:Swal.fire({icon:"error",title:"Undefined Error"})}})})}function update_user_data(e){event.preventDefault();var t=$(e).closest("form").serializeArray();$.ajax({type:"POST",url:BaseURL+LngAbr+"/account/update_user_data",data:{form:t},success:function(e){var t=JSON.parse(e);Swal.fire({icon:"success",title:t.text})}})}function update_user_password(e){event.preventDefault();var t=$(e),a=$('[name="old_password"]').val(),r=$('[name="new_password"]').val();r!=$('[name="confirm_password"]').val()?Swal.fire({icon:"error",title:t.data("error_confirm")}):$.ajax({type:"POST",url:BaseURL+LngAbr+"/account/update_user_password",data:{pass:a,new_pass:r},success:function(e){var t=JSON.parse(e);"1"==t.error?Swal.fire({icon:"error",title:t.text}):0==t.error?Swal.fire({icon:"success",showConfirmButton:!1,timer:2e3}):Swal.fire({icon:"error",title:"Undefined error"})}})}function remind_password(e){event.preventDefault();$(e);var t=$('[name="email"]').val();$.ajax({type:"POST",url:BaseURL+LngAbr+"/account/remind_password_email",data:{email:t},success:function(e){var t=JSON.parse(e);"1"==t.error?Swal.fire({icon:"error",title:t.text}):"0"==t.error?Swal.fire({icon:"success",title:t.text}):Swal.fire({icon:"error",title:"Undefined error"})}})}function start_playing(e,t){$.ajax({type:"POST",async:!1,cache:!1,url:BaseURL+LngAbr+"/account/start_play",success:function(a){var r=JSON.parse(a);"1"==r.error?(Swal.fire({icon:"error",title:r.text}),t.start_new=!0,e.pause()):t.start_new=!1}})}function autoplayer(e,t){$.ajax({type:"POST",async:!1,cache:!1,url:BaseURL+LngAbr+"/account/check_autoplay",success:function(a){1==JSON.parse(a).status&&play_autoplayer(e,t)}})}function play_autoplayer(e,t){$.ajax({type:"POST",async:!1,url:BaseURL+LngAbr+"/account/load_new_track",success:function(a){var r=JSON.parse(a);"1"==r.error?(Swal.fire({icon:"error",title:r.text}),$("#btnNext").removeClass("disable")):"0"==r.error?($("#audio1").attr("src",BaseURL+"music/"+r.music),$("#nowPlay #npTitle").empty().append('<div class="plItem">                     <span class="plTitle">'+r.music_name+"</span>                 </div> "),$(".account-info .info-item:eq(1) h3").text(r.listened),$(".account-info .info-item:eq(2) h3").text(r.unlistened),$(".account-sidebar .sidebar-top>p span").text(r.balance),$("#mainwrap").addClass("disable"),$("#nowPlay").addClass("disable"),$("#audio0").removeClass("disable"),$(".like a").removeClass("active"),$("#btnNext").addClass("disable"),$(".capt").css("display","none"),start_playing(e,t),e.play()):Swal.fire({icon:"error",title:"Undefined Error"})}})}function load_new_track(){$.ajax({type:"POST",async:!1,url:BaseURL+LngAbr+"/account/load_new_track",success:function(e){var t=JSON.parse(e);if("1"==t.error)return Swal.fire({icon:"error",title:t.text}),"qqq";"0"==t.error?($("#audio1").attr("src",BaseURL+"music/"+t.music),$("#nowPlay #npTitle").empty().append('<div class="plItem">                     <span class="plTitle">'+t.music_name+"</span>                 </div> "),$(".account-info .info-item:eq(1) h3").text(t.listened),$(".account-info .info-item:eq(2) h3").text(t.unlistened),$(".account-sidebar .sidebar-top>p span").text(t.balance),$("#mainwrap").addClass("disable"),$("#nowPlay").addClass("disable"),$("#audio0").removeClass("disable"),$(".like a").removeClass("active"),$("#btnNext").addClass("disable"),$(".plItem").removeClass("animate"),animate()):Swal.fire({icon:"error",title:"Undefined Error"})}})}function buy_vip(e){event.preventDefault();var t=$(e);Swal.fire({title:t.data("are_sure"),icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:t.data("yes"),cancelButtonText:t.data("no")}).then(e=>{e.value&&$.ajax({type:"POST",url:BaseURL+LngAbr+"/account/buy_vip",success:function(e){var a=JSON.parse(e);"1"==a.error?Swal.fire({icon:"error",title:a.text}):"0"==a.error?(Swal.fire({icon:"success"}),$(".account-sidebar .sidebar-top>p span").text(a.balance),t.css({background:"#00a2f6",color:"#fff"}),t.text(t.data("active"))):Swal.fire({icon:"error",title:"Undefined error"})}})})}function buy_autoplayer(e){event.preventDefault();var t=$(e);Swal.fire({title:t.data("are_sure"),icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:t.data("yes"),cancelButtonText:t.data("no")}).then(e=>{e.value&&$.ajax({type:"POST",url:BaseURL+LngAbr+"/account/buy_autoplayer",success:function(e){var a=JSON.parse(e);"1"==a.error?Swal.fire({icon:"error",title:a.text}):"0"==a.error?(Swal.fire({icon:"success"}),$(".account-sidebar .sidebar-top>p span").text(a.balance),t.css({background:"#00a2f6",color:"#fff"}),t.text(t.data("active"))):Swal.fire({icon:"error",title:"Undefined error"})}})})}function preview_img(e){if(e.files&&e.files[0]){var t=new FileReader;t.onload=function(e){$(".preview").attr("src",t.result)},t.readAsDataURL(e.files[0])}}function preview_music(e){if(e.files&&e.files[0]){var t=new FileReader;t.onload=function(e){$("#audio_preview").attr("src",t.result).css("display","block")},t.readAsDataURL(e.files[0])}}function change_prmotion_type(e){$.ajax({type:"POST",async:!1,cache:!1,url:BaseURL+LngAbr+"/account/change_promotion_view",data:{type:e},success:function(e){var t=JSON.parse(e);"1"==t.error?Swal.fire({icon:"error",title:t.text}):"0"==t.error?($(".block-tariffs .tariffs-row").empty().append(t.view_price),$(".form-advertising-content").eq(0).empty().append(t.view_form),""!=t.view_text?($(".form-advertising-content").eq(1).parent().show(),$(".form-advertising-content").eq(1).html(t.view_text)):$(".form-advertising-content").eq(1).parent().hide()):Swal.fire({icon:"error",title:"Undefined error"})}})}function add_promotion(e){event.stopPropagation(),event.preventDefault();var t=$(e),a=(t.closest("form").serializeArray(),$(".promotion_file"),new FormData(t.closest("form").get(0)));console.log(a),$.ajax({url:BaseURL+LngAbr+"/account/add_promotion",data:a,processData:!1,contentType:!1,type:"POST",success:function(e){var t=JSON.parse(e);"1"==t.error?Swal.fire({icon:"error",title:t.text}):"0"==t.error?Swal.fire({icon:"success",title:t.text}).then(function(){location.reload()}):Swal.fire({icon:"error",title:"Undefined error"})}})}function Captcha(){var e,t=new Array("0","1","2","3","4","5","6","7","8","9");for(e=0;e<6;e++)var a=t[Math.floor(Math.random()*t.length)],r=t[Math.floor(Math.random()*t.length)],n=t[Math.floor(Math.random()*t.length)],o=t[Math.floor(Math.random()*t.length)],i=t[Math.floor(Math.random()*t.length)],s=t[Math.floor(Math.random()*t.length)],c=t[Math.floor(Math.random()*t.length)];var l=a+" "+r+"  "+n+" "+o+" "+i+" "+s+" "+c;document.getElementById("mainCaptchaInput").value=l;var d=document.getElementById("canvas"),u=d.getContext("2d");u.clearRect(0,0,d.width,d.height),u.font="26px Proxima Nova Black",u.fillStyle="rgb(255,255,255)",u.shadowOffsetX=0,u.shadowOffsetY=0,u.shadowBlur=2,u.shadowColor="rgb(0, 64, 96)",u.fillText(l,50,20)}function ValidCaptcha(){console.log("0");var e=removeSpaces(document.getElementById("mainCaptchaInput").value);console.log("1"),e==removeSpaces(document.getElementById("txtInput").value)?($("#btnNext").removeClass("disable"),$(".capt").css("display","none"),document.getElementById("txtInput").value = '',load_new_track()):Swal.fire({icon:"error"})}function removeSpaces(e){return e.split(" ").join("")}function animate(){$(".plItem").width()<$(".plTitle").width()&&$(".plItem").addClass("animate")}$(function(){if((new WOW).init(),$(".burger").click(function(){$(this).toggleClass("active").closest("body").toggleClass("menu-active"),$(".header-nav").toggleClass("active")}),$(".reviews-slider").slick({slidesToShow:3,centerMode:!0,centerPadding:0,responsive:[{breakpoint:992,settings:{slidesToShow:1}}]}),$(".home-slider").slick({fade:!0,dots:!0,autoplay:!0}),$(".more-text").click(function(){$(this).toggleClass("active").closest(".block-info").find(".box-info").toggleClass("active")}),$(".btn-copy").click(function(){var e=$("<input>");$("body").append(e),e.val($(".affiliate-link a").text()).select(),document.execCommand("copy"),e.remove()}),$(".like a").click(function(e){e.preventDefault(),$("#mainwrap").removeClass("disable")}),!!document.createElement("audio").canPlayType){var e=new Plyr("#audio1",{controls:["play","progress","current-time","duration","volume"]});e.start_new=!0;var t=0,a=!1,r=$("#npAction"),n=($("#npTitle"),$("#audio1").on("play",function(){e.start_new&&start_playing(n,e)}).on("pause",function(){a=!1,r.text("Paused...")}).on("ended",function(){r.text("Paused..."),$("#nowPlay").removeClass("disable"),$("#audio0").addClass("disable"),n.pause(),autoplayer(n,e)}).get(0)),o=($("#btnPrev").on("click",function(){t-1>-1?(o(--t),a&&n.play()):(n.pause(),o(t=0))}),$("#btnNext").on("click",function(){t+1<0?(o(++t),a&&n.play()):(n.pause(),o(t=0))}),$(".like a").on("click",function(){$(".capt").css("display","block"),Captcha(),$(".like a").removeClass("active"),$(this).addClass("active"),e.start_new=!0}),$("#plList li").on("click",function(){var e=parseInt($(this).index());e!==t&&i(e)}),function(e){load_new_track()}),i=function(e){o(e),n.play()};$("#nowPlay #npTitle").append('<div class="plItem">             <span class="plTitle">'+$("#audio1").data("name")+"</span>         </div> ")}else{$(".column").addClass("hidden");var s=$("#audio1").text();$(".container").append('<p class="no-support">'+s+"</p>")}}),$(document).ready(function(){document.getElementById("preloader").style.visibility="hidden",animate()}),$("body").one("click",function(){var e=document.createElement("script");e.type="text/javascript",e.src="https://www.google.com/recaptcha/api.js",e.async=!0,e.defer=!0,$("head").append(e)}),window.onload=function(){var e=document.createElement("script");e.type="text/javascript",e.src=BaseURL+"themes/default/scripts/jquery.marquee.min.js",$("head").append(e).ready(function(){$(".marquee").marquee({duration:2e4,duplicated:!0})}),setTimeout(function(){var e=document.createElement("script");e.type="text/javascript",e.src="//code.jivosite.com/widget/s8zRbq7x0X",e.async=!0,$("head").append(e)},2e3)};